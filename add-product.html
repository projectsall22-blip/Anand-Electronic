<!-- add-product.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Product - Anand Electronic</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50 min-h-screen">
  <!-- Navigation -->
<nav class="bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg">
  <div class="container mx-auto px-4 py-3">
    <!-- Mobile menu button and logo -->
    <div class="flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fas fa-store text-2xl"></i>
        <h1 class="text-xl font-bold">Anand Electronic</h1>
      </div>
      
      <!-- Mobile menu button -->
      <button id="mobileMenuButton" class="md:hidden p-2">
        <i class="fas fa-bars text-xl"></i>
      </button>
    </div>
    
    <!-- Desktop Navigation -->
    <div class="hidden md:flex flex-col md:flex-row justify-between items-center mt-4 md:mt-0">
      <div class="flex flex-wrap justify-center gap-4 w-full md:w-auto">
        <a href="index.html" 
           class="nav-link px-4 py-2 rounded-lg transition duration-300 flex items-center space-x-2 hover:bg-white/20">
          <i class="fas fa-box"></i>
          <span>Dashboard</span>
        </a>
        <a href="add-product.html" 
           class="nav-link px-4 py-2 rounded-lg transition duration-300 flex items-center space-x-2 hover:bg-white/20">
          <i class="fas fa-plus-circle"></i>
          <span>Add Product</span>
        </a>
        <a href="sell-product.html" 
           class="nav-link px-4 py-2 rounded-lg transition duration-300 flex items-center space-x-2 hover:bg-white/20">
          <i class="fas fa-shopping-cart"></i>
          <span>Sell</span>
        </a>
        <a href="revenue.html" 
           class="nav-link px-4 py-2 rounded-lg transition duration-300 flex items-center space-x-2 hover:bg-white/20">
          <i class="fas fa-chart-line"></i>
          <span>Revenue</span>
        </a>
      </div>
    </div>
    
    <!-- Mobile Navigation (hidden by default) -->
    <div id="mobileMenu" class="hidden md:hidden mt-4 pt-4 border-t border-white/20">
      <div class="flex flex-col space-y-3">
        <a href="index.html" 
           class="nav-link px-4 py-3 rounded-lg transition duration-300 flex items-center space-x-3 hover:bg-white/20">
          <i class="fas fa-box w-6"></i>
          <span>Dashboard</span>
        </a>
        <a href="add-product.html" 
           class="nav-link px-4 py-3 rounded-lg transition duration-300 flex items-center space-x-3 hover:bg-white/20">
          <i class="fas fa-plus-circle w-6"></i>
          <span>Add Product</span>
        </a>
        <a href="sell-product.html" 
           class="nav-link px-4 py-3 rounded-lg transition duration-300 flex items-center space-x-3 hover:bg-white/20">
          <i class="fas fa-shopping-cart w-6"></i>
          <span>Sell</span>
        </a>
        <a href="revenue.html" 
           class="nav-link px-4 py-3 rounded-lg transition duration-300 flex items-center space-x-3 hover:bg-white/20">
          <i class="fas fa-chart-line w-6"></i>
          <span>Revenue</span>
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
  // Mobile menu toggle functionality
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    
    if (mobileMenuButton && mobileMenu) {
      mobileMenuButton.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
        // Change icon based on menu state
        const icon = mobileMenuButton.querySelector('i');
        if (mobileMenu.classList.contains('hidden')) {
          icon.classList.remove('fa-times');
          icon.classList.add('fa-bars');
        } else {
          icon.classList.remove('fa-bars');
          icon.classList.add('fa-times');
        }
      });
      
      // Close mobile menu when clicking on a link
      const mobileLinks = mobileMenu.querySelectorAll('a');
      mobileLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
          const icon = mobileMenuButton.querySelector('i');
          icon.classList.remove('fa-times');
          icon.classList.add('fa-bars');
        });
      });
    }
  });
</script>

  <div class="container mx-auto px-4 py-8 max-w-2xl">
    <div class="mb-8">
      <a href="index.html" class="text-blue-600 hover:text-blue-800 flex items-center space-x-2">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Dashboard</span>
      </a>
    </div>

    <div class="bg-white rounded-xl shadow-lg p-8">
      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">
          <i class="fas fa-plus-circle text-blue-600 text-2xl"></i>
        </div>
        <h2 class="text-2xl font-bold text-gray-800">Add New Product</h2>
        <p class="text-gray-600 mt-2">Fill in the details below to add a new product to your inventory</p>
      </div>

      <form id="form" class="space-y-6">
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
            <i class="fas fa-tag mr-2"></i>Product Name
          </label>
          <input id="name" type="text" placeholder="Enter product name" required
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300">
        </div>

        <div>
          <label for="price" class="block text-sm font-medium text-gray-700 mb-2">
            <i class="fas fa-rupee-sign mr-2"></i>Price (₹)
          </label>
          <input id="price" type="number" min="0" step="0.01" placeholder="Enter price" required
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300">
        </div>

        <div>
          <label for="stock" class="block text-sm font-medium text-gray-700 mb-2">
            <i class="fas fa-boxes mr-2"></i>Stock Quantity
          </label>
          <input id="stock" type="number" min="0" placeholder="Enter stock quantity" required
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300">
        </div>

        <div>
          <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
            <i class="fas fa-align-left mr-2"></i>Description (Optional)
          </label>
          <textarea id="description" rows="3" placeholder="Enter product description"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-300"></textarea>
        </div>

        <div class="pt-6 border-t">
          <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 px-6 rounded-lg font-semibold text-lg transition duration-300 transform hover:-translate-y-1 shadow-md hover:shadow-lg">
            <i class="fas fa-plus mr-2"></i>Add Product
          </button>
        </div>
      </form>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
      <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-xl bg-white">
        <div class="text-center">
          <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
            <i class="fas fa-check text-green-600 text-xl"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">Success!</h3>
          <p class="text-gray-500 mb-4" id="successMessage">Product added successfully</p>
          <button onclick="document.getElementById('successModal').classList.add('hidden')" 
                  class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-300">
            Continue
          </button>
        </div>
      </div>
    </div>
  </div>
<footer class="bg-gray-800 text-white py-6 mt-8 md:mt-12">
  <div class="container mx-auto px-4 text-center">
    <p class="mb-2 text-sm md:text-base">© 2023 Anand Electronic. All rights reserved.</p>
    <p class="text-gray-400 text-xs md:text-sm">Made with <i class="fas fa-heart text-red-500"></i> for efficient shop management</p>
  </div>
</footer>
  <script type="module">
    import { db } from "./firebase.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const form = document.getElementById('form');
    const nameInput = document.getElementById('name');
    const priceInput = document.getElementById('price');
    const stockInput = document.getElementById('stock');
    const descriptionInput = document.getElementById('description');

    form.onsubmit = async e => {
      e.preventDefault();
      
      // Show loading state
      const submitBtn = form.querySelector('button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Adding...';
      submitBtn.disabled = true;

      try {
        await addDoc(collection(db, "products"), {
          name: nameInput.value,
          price: Number(priceInput.value),
          stock: Number(stockInput.value),
          description: descriptionInput.value || '',
          createdAt: new Date().toISOString()
        });

        // Show success modal
        document.getElementById('successMessage').textContent = `${nameInput.value} has been added to inventory`;
        document.getElementById('successModal').classList.remove('hidden');
        
        // Reset form
        form.reset();
      } catch (error) {
        alert(`Error adding product: ${error.message}`);
      } finally {
        // Reset button state
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
      }
    };

    // Close modal on outside click
    window.onclick = function(event) {
      const modal = document.getElementById('successModal');
      if (event.target === modal) {
        modal.classList.add('hidden');
      }
    };
  </script>
</body>
</html>